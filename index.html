<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TechPartner 6.5 (PWA)</title>
  <meta name="theme-color" content="#0f172a" />
  <link rel="manifest" href="./manifest.json" />
  <link rel="icon" href="./icons/icon-192.png" />
  <style>
    :root{--bg:#f8fafc;--fg:#0f172a;--muted:#64748b;--card:#fff;--line:#e2e8f0;--accent:#3b82f6;--ok:#10b981;--warn:#f59e0b;}
    *{box-sizing:border-box} body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg);color:#1e293b}
    header{background:var(--fg);color:#fff;padding:14px 16px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:50}
    .brand{display:flex;gap:10px;align-items:center}
    .logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#6366f1);display:grid;place-items:center;font-weight:900}
    nav{background:#fff;border-bottom:1px solid var(--line);display:flex;gap:8px;padding:10px 12px;position:sticky;top:64px;z-index:40;overflow:auto}
    nav button{border:1px solid var(--line);background:#fff;padding:10px 12px;border-radius:12px;cursor:pointer;font-weight:800;color:#334155;white-space:nowrap}
    nav button.active{border-color:var(--accent);color:var(--fg)}
    main{padding:14px 12px;max-width:1200px;margin:0 auto}
    .card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:12px}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
    .col-12{grid-column:span 12}.col-4{grid-column:span 12}
    @media(min-width:900px){.col-4{grid-column:span 4}}
    input,select{width:100%;padding:10px;border-radius:12px;border:1px solid var(--line)}
    label{font-size:11px;font-weight:900;color:var(--muted);text-transform:uppercase;letter-spacing:.08em}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .pbtn{border:1px solid var(--line);background:#fff;padding:10px 12px;border-radius:12px;cursor:pointer;font-weight:900}
    .pbtn.small{padding:8px 10px;font-size:12px}
    .pbtn.danger{border-color:rgba(239,68,68,.4);color:#991b1b}
    .modal{position:fixed;inset:0;background:rgba(15,23,42,.65);display:none;align-items:center;justify-content:center;padding:14px;z-index:80}
    .modal.open{display:flex}
    .panel{width:min(900px,100%);max-height:92vh;overflow:auto;background:#fff;border-radius:18px;border:1px solid rgba(255,255,255,.2)}
    .muted{color:var(--muted);font-size:12px}
  </style>
</head>
<body>
<header>
  <div class="brand"><div class="logo">TP</div><div><div style="font-weight:1000">TechPartner <span style="color:#60a5fa">6.5</span></div><div class="muted" style="color:#a3b2c7">PWA ‚Ä¢ GitHub Pages</div></div></div>
  <div class="row"><span id="netText" class="muted" style="color:#fff">Online</span></div>
</header>
<nav>
  <button data-tab="assets" class="active">Aset</button>
  <button data-tab="wo">WO</button>
  <button data-tab="reports">Reports</button>
</nav>
<main>
  <section id="view-assets">
    <div class="card">
      <div class="grid">
        <div class="col-4"><label>Site</label><select id="fSite"></select></div>
        <div class="col-4"><label>Gedung</label><select id="fBuilding"></select></div>
        <div class="col-4"><label>Lantai</label><select id="fFloor"></select></div>
        <div class="col-4">
          <label>Ruang/Zona</label>
          <div class="row" style="gap:8px">
            <div style="flex:1"><select id="fRoom"></select></div>
            <button type="button" class="pbtn small" id="btnFilterRoomAdd">‚ûï</button>
            <button type="button" class="pbtn small" id="btnFilterRoomEdit">‚úèÔ∏è</button>
            <button type="button" class="pbtn small danger" id="btnFilterRoomDel">üóë</button>
            <button type="button" class="pbtn small" id="btnFilterRoomManage">‚öô</button>
          </div>
          <div class="muted" style="margin-top:6px">v6.5: tombol inline juga ada di filter utama.</div>
        </div>
      </div>
      <div id="assetList" style="margin-top:12px"></div>
    </div>
  </section>
  <section id="view-wo" style="display:none"><div class="card">(WO tersedia di repo kamu; paket ini fokus fitur lokasi v6.5)</div></section>
  <section id="view-reports" style="display:none"><div class="card">(Reports tersedia di repo kamu; paket ini fokus fitur lokasi v6.5)</div></section>
</main>

<!-- Room Quick Modal (C2) -->
<div class="modal" id="mRoom"><div class="panel" style="padding:14px">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <div><b id="roomTitle">Ruang</b><div class="muted">Rename + pindah lantai (full path)</div></div>
    <button class="pbtn" id="btnCloseRoom">Tutup</button>
  </div>
  <form id="roomForm" class="grid" style="margin-top:12px">
    <input type="hidden" id="roomId" />
    <div class="col-4"><label>Nama Ruang</label><input id="roomName" /></div>
    <div class="col-4"><label>Pindah ke Lantai (full path)</label><select id="roomFloor"></select></div>
    <div class="col-12" style="display:flex;gap:8px"><button class="pbtn" type="submit">Simpan</button></div>
  </form>
</div></div>

<script type="module" src="./assets/app.js"></script>
</body>
</html>
